"use strict";(self["webpackChunkrx_ts"]=self["webpackChunkrx_ts"]||[]).push([[513],{4513:function(e,a,t){t.r(a),t.d(a,{default:function(){return D}});var s=t(3396),l=t(7139);const r={class:"my"},u={class:"bg-box"},i={class:"uploader-box"},c={key:0,class:"bg-cover"},n={class:"my-box"},d={class:"my-info"},o={class:"my-img"},m=["src"],g={class:"user-info"},v={class:"user-name one-text"},f={class:"desc one-text"},p={class:"cell-list"},_=["onClick"];function k(e,a,t,k,I,y){const b=(0,s.up)("van-uploader"),h=(0,s.up)("van-cell");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",u,[(0,s._)("div",{class:"my-bg",style:(0,l.j5)({backgroundImage:`url(${e.userInfo.userBg})`})},[(0,s._)("div",i,[(0,s.Wm)(b,{"after-read":e.upload},null,8,["after-read"])])],4),e.userInfo.userImg?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",c))]),(0,s._)("div",n,[(0,s._)("div",d,[(0,s._)("div",o,[(0,s._)("img",{class:"auto-img",src:e.userInfo.userImg,alt:""},null,8,m)]),(0,s._)("div",g,[(0,s._)("div",v,(0,l.zw)(e.userInfo.nickName),1),(0,s._)("div",f,(0,l.zw)(e.userInfo.desc?e.userInfo.desc:"这家伙很懒，什么也没有留下！"),1)])]),(0,s._)("div",p,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.cellListData,((a,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"cell-list-item",key:t,onClick:t=>e.goPage(a.routeName)},[(0,s.Wm)(h,{title:a.title,"is-link":""},null,8,["title"])],8,_)))),128))])])])}t(6743);var I=t(4691),y=t(4870),b=t(6265),h=t.n(b),w=t(678),N=(0,s.aZ)({name:"My",setup(){let e=(0,w.tv)(),a=(0,y.iH)([{title:"个人资料",routeName:"Account"},{title:"我的订单",routeName:"Order"},{title:"我的收藏",routeName:"Like"},{title:"地址管理",routeName:"MyAddress"},{title:"安全中心",routeName:"Secure"}]),t=(0,y.iH)({desc:"",nickName:"",userBg:"",userImg:""}),l=()=>{h()({method:"get",url:"/findMy"}).then((a=>{if(700===a.data.code)return(0,I.Z)(a.data.msg),void e.push({name:"Login"});"A001"===a.data.code&&(t.value=a.data.result[0])})).catch((e=>{}))},r=a=>{let s=a.file.type.split(/\//)[1],l=a.content.replace(/data:image\/[A-Za-z]+;base64,/,"");h()({method:"post",url:"/updateUserBg",data:{imgType:s,serverBase64Img:l}}).then((a=>{(0,I.Z)(a.data.msg),700!==a.data.code?"I001"===a.data.code&&1===a.data.result[0]&&(t.value.userBg=a.data.userBg):e.push({name:"Login"})})).catch((e=>{}))},u=a=>{e.push({name:a})};return(0,s.bv)((()=>{l()})),{cellListData:a,userInfo:t,upload:r,goPage:u}}}),x=t(89);const B=(0,x.Z)(N,[["render",k],["__scopeId","data-v-ff32be70"]]);var D=B}}]);
//# sourceMappingURL=513.fa011ab3.js.map